--Tablas Simples----------------------------

CREATE TABLE Carpeta (
	codigo INTEGER PRIMARY KEY,
	nombre VARCHAR (100) NOT NULL
);

CREATE TABLE Archivo (
	codigo INTEGER PRIMARY KEY,
	nombre VARCHAR (100) NOT NULL
);

CREATE TABLE Rol (
	no_rol INTEGER PRIMARY KEY,
	Rol VARCHAR(100) NOT NULL
);

CREATE TABLE Permisos (
	no_permisos INTEGER PRIMARY KEY,
	Permisos VARCHAR(100) NOT NULL
);

--Tablas Dependientes---------------------------------------------
CREATE TABLE Usuario (
	Id INTEGER PRIMARY KEY,
	nombre VARCHAR (100) NOT NULL,
	correo VARCHAR (100) NOT NULL,
	clave_usuario INTEGER,
	archivo_guardados INTEGER NOT NULL,
	no_rol INTEGER REFERENCES Rol (no_rol),
	no_permisos INTEGER REFERENCES Permisos (no_permisos)
);

CREATE TABLE Datos_Archivo (
	clave_archivo INTEGER,
	tipo_archivo VARCHAR(100) NOT NULL,
	peso_archivo INTEGER NOT NULL,
	medida_almacenamiento VARCHAR(100) NOT NULL,
	fecha DATE,
	codigo_archivo INTEGER REFERENCES Archivo (codigo),
	codigo_carpeta INTEGER REFERENCES Carpeta (codigo)
);

CREATE TABLE Datos_carpeta (
	fecha Date,
	peso_carpeta INTEGER NOT NULL,
	medida_almacenamiento VARCHAR(100) NOT NULL,
	num_archivos INTEGER,
	codigo_carpeta INTEGER REFERENCES Carpeta (codigo)
);

--Tablas Intermedias---------------------------------------------------------

CREATE TABLE Usuario_archivo (
	Id_usuario INTEGER REFERENCES Usuario(Id),
	codigo_archivo INTEGER REFERENCES Archivo (codigo)
);

CREATE TABLE Usuario_carpeta (
	Id_usuario INTEGER REFERENCES Usuario(Id),
	codigo_carpeta INTEGER REFERENCES Carpeta (codigo)
);
